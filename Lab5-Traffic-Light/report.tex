\documentclass[dvipsnames, svgnames, x11names, a4paper, 11pt]{article}

% URLs and hyperlinks ------------------------------
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=NavyBlue,
    filecolor=magenta,      
    urlcolor=blue,
}
\usepackage{xurl}
%---------------------------------------------------

\usepackage{adjustbox}
\usepackage{float}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{color}
\usepackage{xcolor}
\usepackage{subfigure}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{frame=tb,
    language=vhdl,
    aboveskip=3mm,
    belowskip=3mm,
    showstringspaces=false,
    columns=flexible,
    basicstyle=\ttfamily,
    numbers=left,
    numberstyle=\small\color{gray},
    keywordstyle=\bfseries\color{Green4},
    commentstyle=\color{gray},
    stringstyle=\color{mauve},
    breaklines=true,
    breakatwhitespace=true,
    tabsize=4,
    identifierstyle=\color{black}
}

\usepackage{tikz}
\usetikzlibrary{automata, positioning, arrows}

\usepackage{xepersian}
\settextfont{Yas}

\title{تمرین چراغ راهنمایی و رانندگی}
\author{
فاطمه علی‌ملکی \\
مهدی حق‌وردی
}
\begin{document}
\maketitle
\tableofcontents
\newpage

\section{دیاگرام}
\begin{latin}
\begin{figure}[ht]
\begin{center}
\begin{adjustbox}{width=\textwidth}
\begin{tikzpicture}
[->,
 >=stealth',
 node distance=3cm,
 every state/.style={thick,fill=gray!10,
 initial text=$$},
]


\node[state, initial]     (start) {start};
\node[state, below right=of start] (s0) {GaRbRw};
\node[state, below right=of s0] (s1) {YaRbRw};
\node[state, right=of s1] (s2) {RaGbRw};
\node[state, above right=of s2] (s3) {RaYbRw};
\node[state, above=of s3] (s4) {RaRbGw};
\node[state, above left=of s4] (s5) {RaRbRw};
\node[state, above right=of start] (s6) {All OFF};

\draw
(start)    edge[left, left]   node{rst=`0'} (s6)
(start)    edge[right, left]   node{rst=`1'} (s0)

(s6)  edge[bend left, above]   node{rst=`0'} (s5)
(s5)  edge[bend left, below]   node{rst=`0'} (s6)

(s0)  edge[right, left]  node{rst=`1'} (s1)
(s1)  edge[right, below]  node{rst=`1'} (s2)
(s2)  edge[right, right]  node{rst=`1'} (s3)
(s3)  edge[below, right]  node{rst=`1'} (s4)
(s4)  edge[right, right]  node{rst=`1'} (s5)
(s5)  edge[right, right]  node{rst=`1'} (s0)
(s6)  edge[left]  node{rst=`1'} (s0)

(s0)   edge[loop left]         node{} (s0)
(s1)   edge[loop below]         node{} (s1)
(s2)   edge[loop below]         node{} (s2)
(s3)   edge[loop right]         node{} (s3)
(s4)   edge[loop right]         node{} (s4)
(s5)   edge[loop above]         node{} (s5)
(s6)   edge[loop above]         node{} (s6);
\end{tikzpicture}
\end{adjustbox}
\end{center}
\end{figure}
\end{latin}

در این دیاگرام، وضعیت‌های ماشین کشیده شده‌اند. یال‌های حلقه روی وضعیت‌ها میزان زمان ایستادن روی آن وضعیت هستند که وقتی در کلاس آزمایش انجام شد و اعداد آنها بدست آمد، نوشته می‌شوند.

\section{توضیحات}
در این قسمت توضیحاتی راجع به کد‌ها می‌دهیم.

\subsection{\lr{\texttt{clock\_divide.vhdl}}}
که قبلا توضیح داده شده و تعداد کلاک 
\lr{100 MHz}
را به عدد
\lr{1 MHz}
تبدیل می‌کند.
\newpage
\subsection{\lr{\texttt{trfc.ucf}}}
با مراجعه به توضیحات سایت تولید کننده‌ی برد این فایل را نوشتیم.
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.5\textwidth, height=0.23\textheight]{./images/ucf}
\end{center}
\end{figure}

\subsection{\lr{\texttt{traffic.vhdl}}}
\end{document}
